<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurable SVG Animation Component</title>
    <style>
        body {
            margin: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .svg-container {
            width: 650px;
            height: 650px;
        }
    </style>
</head>
<body>

    <div id="svg-container" class="svg-container"></div>

    <script>
        function createAiAnimationSVG(containerId, options = {}) {
            const container = document.getElementById(containerId);
            if (!container) {
                console.error(`Container with ID "${containerId}" not found.`);
                return;
            }

            const defaultConfig = {
                centralLogoPath: '',
                centralLogoSize: 120,
                particleCount: 70,
                baseRadius: 120,
                radiusVariance: 40,
                colors: ['#2563EB', '#3B82F6'],
                dotRotationSpeed: 60,
                logoRotationSpeed: 80,
                numBreathingAnimations: 5,
                dotSize: 2.0,
                glowDeviation: 7,
                rotatingLogos: [],
                logoCircleRadius: 90,
                rotatingLogoSize: 1000,
                rotatingLogoSpinSpeed: 20, // NEW: logos spin on their own axis
                rotatingLogoGlow: true     // NEW: glow effect for logos
            };
            const config = { ...defaultConfig, ...options };

            function generateSVG() {
                let animationStyles = `
                    #dots-rotation-group {
                        animation: rotate-dots ${config.dotRotationSpeed}s linear infinite;
                        transform-origin: center;
                    }
                    @keyframes rotate-dots {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(360deg); }
                    }

                    #logos-rotation-group {
                        animation: rotate-logos ${config.logoRotationSpeed}s linear infinite;
                        transform-origin: 200px 200px;
                    }
                    @keyframes rotate-logos {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(360deg); }
                    }

                    /* Each logo spins on its own axis */
                    .orbiting-logo {
                        animation: counter-rotate ${config.logoRotationSpeed}s linear infinite;
                        transform-origin: center;
                    }
                    @keyframes counter-rotate {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(-360deg); } /* Note the negative value */
                    }

                    .ring-group { transform-origin: center; }
                `;

                for (let i = 1; i <= config.numBreathingAnimations; i++) {
                    const duration = 10 + Math.random() * 4;
                    const scaleMin = 0.8 + Math.random() * 0.3;
                    const scaleMax = 1.2 + Math.random() * 0.2;
                    animationStyles += `
                        .breathe-${i} { animation: breathe-${i} ${duration.toFixed(2)}s ease-in-out infinite; }
                        @keyframes breathe-${i} {
                            0%, 100% { transform: scale(${scaleMin.toFixed(2)}); }
                            50% { transform: scale(${scaleMax.toFixed(2)}); }
                        }
                    `;
                }

                // --- Generate SVG Dots ---
                let dotGroups = Array.from({ length: config.numBreathingAnimations }, () => '');
                for (let i = 0; i < config.particleCount; i++) {
                    const angle = Math.random() * 2 * Math.PI;
                    const radius = config.baseRadius + (Math.random() * 2 - 1) * config.radiusVariance;
                    const cx = 200 + radius * Math.cos(angle);
                    const cy = 200 + radius * Math.sin(angle);
                    const color = config.colors[Math.floor(Math.random() * config.colors.length)];
                    const groupIndex = i % config.numBreathingAnimations;
                    dotGroups[groupIndex] += `<circle cx="${cx.toFixed(2)}" cy="${cy.toFixed(2)}" r="${config.dotSize}" fill="${color}"/>\n`;
                }
                let finalDotsSVG = '';
                dotGroups.forEach((group, index) => {
                    const animationDelay = `animation-delay: -${(Math.random() * 10).toFixed(2)}s;`;
                    finalDotsSVG += `<g class="ring-group breathe-${index + 1}" style="${animationDelay}">${group}</g>\n`;
                });

                // --- Generate Rotating Logos ---
                let rotatingLogosSVG = '';
                if (config.rotatingLogos && config.rotatingLogos.length > 0) {
                    const logoCount = config.rotatingLogos.length;
                    const angleStep = (2 * Math.PI) / logoCount;
                    const logoSize = config.rotatingLogoSize;

                    config.rotatingLogos.forEach((logoSrc, i) => {
                        const angle = i * angleStep;
                        const x = 200 + config.logoCircleRadius * Math.cos(angle);
                        const y = 200 + config.logoCircleRadius * Math.sin(angle);

                        // FIXED: numeric math first, then format
                        const xPos = x - logoSize / 2;
                        const yPos = y - logoSize / 2;

                        rotatingLogosSVG += `<image class="orbiting-logo"
                            ${config.rotatingLogoGlow ? 'filter="url(#logo-glow)"' : ''}
                            xlink:href="${logoSrc}"
                            x="${xPos.toFixed(2)}"
                            y="${yPos.toFixed(2)}"
                            height="${logoSize}"
                            width="${logoSize}"/>`;
                    });
                }

                // --- Final SVG ---
                const centralLogoPos = 200 - (config.centralLogoSize / 2);
                const finalSVG = `
                    <svg width="100%" height="100%" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <style>${animationStyles}</style>
                        <defs>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="${config.glowDeviation}" result="blur" />
                                <feMerge>
                                    <feMergeNode in="blur" />
                                    <feMergeNode in="SourceGraphic" />
                                </feMerge>
                            </filter>
                            <filter id="logo-glow">
                                <feGaussianBlur stdDeviation="3" result="blur" />
                                <feMerge>
                                    <feMergeNode in="blur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        <g id="animation-container" filter="url(#glow)">
                            <g id="dots-rotation-group">
                                ${finalDotsSVG}
                            </g>
                            <g id="logos-rotation-group">
                                ${rotatingLogosSVG}
                            </g>
                        </g>
                        <image xlink:href="${config.centralLogoPath}" x="${centralLogoPos}" y="${centralLogoPos}" height="${config.centralLogoSize}" width="${config.centralLogoSize}"/>
                    </svg>`;
                return finalSVG;
            }

            container.innerHTML = generateSVG();
        }

        // --- Example Config ---
        createAiAnimationSVG('svg-container', {
            centralLogoPath: '/assets/LOGO.png',
            centralLogoSize: 80,
            colors: ['#20B2AA', '#4682B4', '#B0E0E6', '#778899', '#708090', '#6A5ACD', '#48D1CC', '#87CEEB', '#ADD8E6', '#AFEEEE'],
            baseRadius: 140,
            radiusVariance: 60,
            particleCount: 250,
            dotRotationSpeed: 70,
            rotatingLogos: [],
            logoCircleRadius: 120,

            rotatingLogoSize: 85,         // change size
            rotatingLogoSpinSpeed: 40,    // spin each logo on its axis
            rotatingLogoGlow: false        // glow effect
        });
    </script>
</body>
</html>
